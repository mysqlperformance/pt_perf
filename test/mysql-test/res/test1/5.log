%%%%%%%%%%%%% test text case [do_command]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f do_command -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 47062 actions, trace errors: 0 ]
[ real trace time: 0.03 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [do_command]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 0        |                    | 11       |                    |
      8192 -> 16383      : 0        |                    | 884      |********************|
     16384 -> 32767      : 0        |                    | 361      |********            |
     32768 -> 65535      : 455      |****************    | 5        |                    |
     65536 -> 131071     : 562      |********************| 0        |                    |
    131072 -> 262143     : 127      |****                | 0        |                    |
    262144 -> 524287     : 118      |****                | 0        |                    |
trace count: 1262, average latency: 108894 ns
sched count: 1261,   sched latency:  14842 ns, cpu percent: 339 %
sched total: 1266, sched each time: 14795 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [do_command]:[0m
                   name                : avg        cnt        call_line          sched_time cpu_pct(%) distribution (total) 
| dispatch_command                     : 85666      1262       sql_parse.cc:1466  0          309.36    |********************|
| Protocol_classic::get_command        : 22911      1262       sql_parse.cc:1404  14842      29.14     |*****               |
| *self                                : 74         1262       -                  0          0.27      |                    |
| THD::get_protocol_classic            : 43         1262       sql_parse.cc:1352  0          0.16      |                    |
| my_net_set_read_timeout              : 43         1262       sql_parse.cc:1353  0          0.16      |                    |
| my_net_set_read_timeout              : 39         1262       sql_parse.cc:1462  0          0.14      |                    |
| THD::get_protocol_classic            : 34         1262       sql_parse.cc:1467  0          0.12      |                    |
| THD::get_protocol                    : 33         1262       sql_parse.cc:1404  0          0.12      |                    |
| THD::get_protocol_classic            : 31         1262       sql_parse.cc:1455  0          0.11      |                    |
| THD::get_protocol_classic            : 10         1262       sql_parse.cc:1459  0          0.04      |                    |
| Thd_mem_cnt::reset                   : 3          1262       sql_parse.cc:1388  0          0.01      |                    |
| Diagnostics_area::reset_diagnostics_
    area                               : 2          1262       sql_parse.cc:1344  0          0.01      |                    |
| Protocol_classic::get_output_packet  : 0          1262       sql_parse.cc:1467  0          0.00      |                    |
| Protocol_classic::get_output_packet  : 0          1262       sql_parse.cc:1459  0          0.00      |                    |
| Protocol_classic::get_net            : 0          1262       sql_parse.cc:1352  0          0.00      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [do_command]
           called from [handle_connection(connection_handler_per_thread.cc:304)]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 0        |                    | 11       |                    |
      8192 -> 16383      : 0        |                    | 884      |********************|
     16384 -> 32767      : 0        |                    | 361      |********            |
     32768 -> 65535      : 455      |****************    | 5        |                    |
     65536 -> 131071     : 562      |********************| 0        |                    |
    131072 -> 262143     : 127      |****                | 0        |                    |
    262144 -> 524287     : 118      |****                | 0        |                    |
trace count: 1262, average latency: 108894 ns
sched count: 1261,   sched latency:  14842 ns, cpu percent: 339 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [do_command]
                             called from [handle_connection(connection_handler_per_thread.cc:304)]:[0m
                   name                : avg        cnt        call_line          sched_time cpu_pct(%) distribution (total) 
| dispatch_command                     : 85666      1262       sql_parse.cc:1466  0          309.36    |********************|
| Protocol_classic::get_command        : 22911      1262       sql_parse.cc:1404  14842      29.14     |*****               |
| *self                                : 74         1262       -                  0          0.27      |                    |
| THD::get_protocol_classic            : 43         1262       sql_parse.cc:1352  0          0.16      |                    |
| my_net_set_read_timeout              : 43         1262       sql_parse.cc:1353  0          0.16      |                    |
| my_net_set_read_timeout              : 39         1262       sql_parse.cc:1462  0          0.14      |                    |
| THD::get_protocol_classic            : 34         1262       sql_parse.cc:1467  0          0.12      |                    |
| THD::get_protocol                    : 33         1262       sql_parse.cc:1404  0          0.12      |                    |
| THD::get_protocol_classic            : 31         1262       sql_parse.cc:1455  0          0.11      |                    |
| THD::get_protocol_classic            : 10         1262       sql_parse.cc:1459  0          0.04      |                    |
| Thd_mem_cnt::reset                   : 3          1262       sql_parse.cc:1388  0          0.01      |                    |
| Diagnostics_area::reset_diagnostics_
    area                               : 2          1262       sql_parse.cc:1344  0          0.01      |                    |
| Protocol_classic::get_output_packet  : 0          1262       sql_parse.cc:1467  0          0.00      |                    |
| Protocol_classic::get_output_packet  : 0          1262       sql_parse.cc:1459  0          0.00      |                    |
| Protocol_classic::get_net            : 0          1262       sql_parse.cc:1352  0          0.00      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [dispatch_command]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f dispatch_command -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 34575 actions, trace errors: 0 ]
[ real trace time: 0.01 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [dispatch_command]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 0        |                    | 1        |********************|
      4096 -> 8191       : 0        |                    | 1        |********************|
      8192 -> 16383      : 4        |                    | 0        |                    |
     16384 -> 32767      : 23       |*                   | 0        |                    |
     32768 -> 65535      : 334      |********************| 0        |                    |
     65536 -> 131071     : 86       |*****               | 0        |                    |
    131072 -> 262143     : 29       |*                   | 0        |                    |
    262144 -> 524287     : 49       |**                  | 0        |                    |
trace count: 525, average latency: 86046 ns
sched count:   2,   sched latency:    16 ns, cpu percent: 313 %
sched total: 529, sched each time: 16 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [dispatch_command]:[0m
                   name                : avg        cnt        call_line              sched_time cpu_pct(%) distribution (total) 
| mysqld_stmt_execute                  : 75771      498        sql_parse.cc:2002      17         261.59    |********************|
| THD::send_statement_status           : 12208      525        sql_parse.cc:2433      0          44.44     |***                 |
| dispatch_sql_command                 : 7251       27         sql_parse.cc:2122      0          1.36      |                    |
| alloc_query                          : 220        27         sql_parse.cc:2076      0          0.04      |                    |
| *self                                : 174        525        -                      0          0.64      |                    |
| THD::reset_for_next_command          : 135        498        sql_parse.cc:1989      0          0.47      |                    |
| pthread_mutex_lock@plt               : 122        525        thr_mutex.h:95         0          0.45      |                    |
| mysql_event_tracking_command_notify  : 104        525        sql_parse.cc:1852      0          0.38      |                    |
| mysql_stmt_precheck                  : 102        498        sql_parse.cc:1992      0          0.36      |                    |
| Lex_input_stream::init               : 98         27         sql_lex.h:4804         0          0.02      |                    |
| THD::update_slow_query_status        : 98         525        sql_parse.cc:2431      0          0.36      |                    |
| copy_bind_parameter_values           : 91         498        sql_parse.cc:1994      0          0.32      |                    |
| THD::set_time                        : 89         525        sql_parse.cc:1770      0          0.33      |                    |
| mysql_event_tracking_general_notify  : 88         525        sql_parse.cc:2448      0          0.32      |                    |
| THD::set_query                       : 84         525        sql_class.h:4226       0          0.31      |                    |
| log_slow_statement                   : 73         525        sql_parse.cc:2462      0          0.27      |                    |
| THD::set_command                     : 63         525        sql_parse.cc:1753      0          0.23      |                    |
| pfs_set_thread_info_vc               : 61         525        sql_class.h:4196       0          0.22      |                    |
| MEM_ROOT::ClearForReuse              : 48         525        sql_parse.cc:2497      0          0.18      |                    |
| THD::get_protocol                    : 48         525        sql_parse.cc:1822      0          0.18      |                    |
| THD::enter_stage                     : 45         525        sql_parse.cc:2464      0          0.17      |                    |
| pthread_mutex_unlock@plt             : 36         525        thr_mutex.h:120        0          0.13      |                    |
| mysql_event_tracking_command_notify  : 31         525        sql_parse.cc:2459      0          0.11      |                    |
| Session_consistency_gtids_ctx::notif
    y_after_response_packet            : 30         525        sql_parse.cc:2445      0          0.11      |                    |
| mysql_event_tracking_general_notify  : 26         525        sql_parse.cc:2452      0          0.10      |                    |
| PROFILING::finish_current_query      : 14         525        sql_parse.cc:2503      0          0.05      |                    |
| copy_bind_parameter_values           : 9          27         sql_parse.cc:2118      0          0.00      |                    |
| PROFILING::start_new_query           : 6          525        sql_parse.cc:1746      0          0.02      |                    |
| THD::set_secondary_engine_statement_
    context                            : 6          27         sql_parse.cc:2217      0          0.00      |                    |
| get_max_digest_length                : 5          27         sql_parse.cc:2106      0          0.00      |                    |
| pfs_end_stage_v1                     : 4          525        mysql_statement.h:271  0          0.02      |                    |
| PROFILING::set_query_source          : 2          27         sql_parse.cc:2091      0          0.00      |                    |
| Yacc_state::~Yacc_state              : 1          27         sql_lex.h:4784         0          0.00      |                    |
| THD::set_command                     : 1          525        sql_parse.cc:2467      0          0.00      |                    |
| Command_names::str_global            : 0          525        sql_parse.cc:1854      0          0.00      |                    |
| Command_names::str_global            : 0          525        sql_parse.cc:2451      0          0.00      |                    |
| Protocol_text::type                  : 0          525        sql_parse.cc:1822      0          0.00      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [dispatch_command]
           called from [do_command(sql_parse.cc:1466)]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 0        |                    | 1        |********************|
      4096 -> 8191       : 0        |                    | 1        |********************|
      8192 -> 16383      : 4        |                    | 0        |                    |
     16384 -> 32767      : 23       |*                   | 0        |                    |
     32768 -> 65535      : 334      |********************| 0        |                    |
     65536 -> 131071     : 86       |*****               | 0        |                    |
    131072 -> 262143     : 29       |*                   | 0        |                    |
    262144 -> 524287     : 49       |**                  | 0        |                    |
trace count: 525, average latency: 86046 ns
sched count:   2,   sched latency:    16 ns, cpu percent: 313 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [dispatch_command]
                             called from [do_command(sql_parse.cc:1466)]:[0m
                   name                : avg        cnt        call_line              sched_time cpu_pct(%) distribution (total) 
| mysqld_stmt_execute                  : 75771      498        sql_parse.cc:2002      17         261.59    |********************|
| THD::send_statement_status           : 12208      525        sql_parse.cc:2433      0          44.44     |***                 |
| dispatch_sql_command                 : 7251       27         sql_parse.cc:2122      0          1.36      |                    |
| alloc_query                          : 220        27         sql_parse.cc:2076      0          0.04      |                    |
| *self                                : 174        525        -                      0          0.64      |                    |
| THD::reset_for_next_command          : 135        498        sql_parse.cc:1989      0          0.47      |                    |
| pthread_mutex_lock@plt               : 122        525        thr_mutex.h:95         0          0.45      |                    |
| mysql_event_tracking_command_notify  : 104        525        sql_parse.cc:1852      0          0.38      |                    |
| mysql_stmt_precheck                  : 102        498        sql_parse.cc:1992      0          0.36      |                    |
| Lex_input_stream::init               : 98         27         sql_lex.h:4804         0          0.02      |                    |
| THD::update_slow_query_status        : 98         525        sql_parse.cc:2431      0          0.36      |                    |
| copy_bind_parameter_values           : 91         498        sql_parse.cc:1994      0          0.32      |                    |
| THD::set_time                        : 89         525        sql_parse.cc:1770      0          0.33      |                    |
| mysql_event_tracking_general_notify  : 88         525        sql_parse.cc:2448      0          0.32      |                    |
| THD::set_query                       : 84         525        sql_class.h:4226       0          0.31      |                    |
| log_slow_statement                   : 73         525        sql_parse.cc:2462      0          0.27      |                    |
| THD::set_command                     : 63         525        sql_parse.cc:1753      0          0.23      |                    |
| pfs_set_thread_info_vc               : 61         525        sql_class.h:4196       0          0.22      |                    |
| MEM_ROOT::ClearForReuse              : 48         525        sql_parse.cc:2497      0          0.18      |                    |
| THD::get_protocol                    : 48         525        sql_parse.cc:1822      0          0.18      |                    |
| THD::enter_stage                     : 45         525        sql_parse.cc:2464      0          0.17      |                    |
| pthread_mutex_unlock@plt             : 36         525        thr_mutex.h:120        0          0.13      |                    |
| mysql_event_tracking_command_notify  : 31         525        sql_parse.cc:2459      0          0.11      |                    |
| Session_consistency_gtids_ctx::notif
    y_after_response_packet            : 30         525        sql_parse.cc:2445      0          0.11      |                    |
| mysql_event_tracking_general_notify  : 26         525        sql_parse.cc:2452      0          0.10      |                    |
| PROFILING::finish_current_query      : 14         525        sql_parse.cc:2503      0          0.05      |                    |
| copy_bind_parameter_values           : 9          27         sql_parse.cc:2118      0          0.00      |                    |
| PROFILING::start_new_query           : 6          525        sql_parse.cc:1746      0          0.02      |                    |
| THD::set_secondary_engine_statement_
    context                            : 6          27         sql_parse.cc:2217      0          0.00      |                    |
| get_max_digest_length                : 5          27         sql_parse.cc:2106      0          0.00      |                    |
| pfs_end_stage_v1                     : 4          525        mysql_statement.h:271  0          0.02      |                    |
| PROFILING::set_query_source          : 2          27         sql_parse.cc:2091      0          0.00      |                    |
| Yacc_state::~Yacc_state              : 1          27         sql_lex.h:4784         0          0.00      |                    |
| THD::set_command                     : 1          525        sql_parse.cc:2467      0          0.00      |                    |
| Command_names::str_global            : 0          525        sql_parse.cc:1854      0          0.00      |                    |
| Command_names::str_global            : 0          525        sql_parse.cc:2451      0          0.00      |                    |
| Protocol_text::type                  : 0          525        sql_parse.cc:1822      0          0.00      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [mysqld_stmt_execute]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f mysqld_stmt_execute -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 14525 actions, trace errors: 0 ]
[ real trace time: 0.01 seconds ]
[ miss trace time: 0.00 seconds ]

[33m===========================================================================================================================[0m
[32mHistogram - Latency of [mysqld_stmt_execute]:[0m
          ns             : cnt        distribution        sched      distribution        
     16384 -> 32767      : 180      |********************| 0        |                    |
     32768 -> 65535      : 162      |******************  | 0        |                    |
     65536 -> 131071     : 65       |*******             | 0        |                    |
    131072 -> 262143     : 29       |***                 | 0        |                    |
    262144 -> 524287     : 24       |**                  | 0        |                    |
trace count: 460, average latency: 75881 ns
sched count:   0,   sched latency:     0 ns, cpu percent: 251 %
sched total: 486, sched each time: 0 ns

[33m---------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [mysqld_stmt_execute]:[0m
                  name               : avg        cnt        call_line            sched_time cpu_pct(%) distribution (total) 
| Prepared_statement::execute_loop   : 73306      460        sql_prepare.cc:1872  0          242.78    |********************|
| Prepared_statement::set_parameters : 1463       460        sql_prepare.cc:1870  0          4.85      |                    |
| statement_id_to_session            : 782        460        sql_prepare.cc:1841  0          2.59      |                    |
| my_free                            : 90         436        sql_string.h:404     0          0.28      |                    |
| *self                              : 70         460        -                    0          0.23      |                    |
| THD::pop_protocol                  : 61         460        sql_prepare.cc:1875  0          0.20      |                    |
| THD::is_classic_protocol           : 42         460        sql_prepare.cc:1848  0          0.14      |                    |
| THD::push_protocol                 : 38         460        sql_class.h:3355     0          0.13      |                    |
| THD::get_protocol                  : 21         460        sql_prepare.cc:1852  0          0.07      |                    |
| PROFILING::set_query_source        : 4          460        sql_prepare.cc:1843  0          0.01      |                    |
| sp_cache_enforce_limit             : 2          460        sql_prepare.cc:1878  0          0.01      |                    |
| sp_cache_enforce_limit             : 1          460        sql_prepare.cc:1877  0          0.01      |                    |

[33m===========================================================================================================================[0m
[32mHistogram - Latency of [mysqld_stmt_execute]
           called from [dispatch_command(sql_parse.cc:2002)]:[0m
          ns             : cnt        distribution        sched      distribution        
     16384 -> 32767      : 180      |********************| 0        |                    |
     32768 -> 65535      : 162      |******************  | 0        |                    |
     65536 -> 131071     : 65       |*******             | 0        |                    |
    131072 -> 262143     : 29       |***                 | 0        |                    |
    262144 -> 524287     : 24       |**                  | 0        |                    |
trace count: 460, average latency: 75881 ns
sched count:   0,   sched latency:     0 ns, cpu percent: 251 %

[33m---------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [mysqld_stmt_execute]
                             called from [dispatch_command(sql_parse.cc:2002)]:[0m
                  name               : avg        cnt        call_line            sched_time cpu_pct(%) distribution (total) 
| Prepared_statement::execute_loop   : 73306      460        sql_prepare.cc:1872  0          242.78    |********************|
| Prepared_statement::set_parameters : 1463       460        sql_prepare.cc:1870  0          4.85      |                    |
| statement_id_to_session            : 782        460        sql_prepare.cc:1841  0          2.59      |                    |
| my_free                            : 90         436        sql_string.h:404     0          0.28      |                    |
| *self                              : 70         460        -                    0          0.23      |                    |
| THD::pop_protocol                  : 61         460        sql_prepare.cc:1875  0          0.20      |                    |
| THD::is_classic_protocol           : 42         460        sql_prepare.cc:1848  0          0.14      |                    |
| THD::push_protocol                 : 38         460        sql_class.h:3355     0          0.13      |                    |
| THD::get_protocol                  : 21         460        sql_prepare.cc:1852  0          0.07      |                    |
| PROFILING::set_query_source        : 4          460        sql_prepare.cc:1843  0          0.01      |                    |
| sp_cache_enforce_limit             : 2          460        sql_prepare.cc:1878  0          0.01      |                    |
| sp_cache_enforce_limit             : 1          460        sql_prepare.cc:1877  0          0.01      |                    |

[33m===========================================================================================================================[0m
%%%%%%%%%%%%% test text case [mysql_execute_command]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f mysql_execute_command -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 43380 actions, trace errors: 0 ]
[ real trace time: 0.02 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [mysql_execute_command]:[0m
          ns             : cnt        distribution        sched      distribution        
      1024 -> 2047       : 26       |**                  | 0        |                    |
      2048 -> 4095       : 1        |                    | 0        |                    |
      4096 -> 8191       : 1        |                    | 2        |********************|
      8192 -> 16383      : 0        |                    | 0        |                    |
     16384 -> 32767      : 257      |********************| 0        |                    |
     32768 -> 65535      : 155      |************        | 0        |                    |
     65536 -> 131071     : 79       |******              | 0        |                    |
    131072 -> 262143     : 28       |**                  | 0        |                    |
    262144 -> 524287     : 28       |**                  | 1        |**********          |
trace count: 575, average latency: 67758 ns
sched count:   3,   sched latency:   552 ns, cpu percent: 237 %
sched total: 579, sched each time: 548 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [mysql_execute_command]:[0m
                   name                : avg        cnt        call_line          sched_time cpu_pct(%) distribution (total) 
| Sql_cmd_dml::execute                 : 68777      519        sql_parse.cc:4669  595        217.57    |********************|
| trans_commit                         : 39366      28         sql_parse.cc:4203  320        6.72      |                    |
| MDL_context::release_transactional_l
    ocks                               : 1060       28         sql_parse.cc:4228  0          0.18      |                    |
| close_thread_tables                  : 920        575        sql_parse.cc:4893  0          3.26      |                    |
| trans_commit_stmt                    : 782        575        sql_parse.cc:4876  0          2.77      |                    |
| Query_expression::cleanup            : 597        575        sql_lex.h:4304     0          2.11      |                    |
| trans_begin                          : 464        28         sql_parse.cc:4191  0          0.08      |                    |
| *self                                : 326        575        -                  0          1.15      |                    |
| open_temporary_tables                : 148        519        sql_parse.cc:3306  0          0.47      |                    |
| THD::Query_plan::set_query_plan      : 91         575        sql_parse.cc:4855  0          0.32      |                    |
| Prepared_statement::trace_parameter_
    types                              : 89         519        sql_parse.cc:3179  0          0.29      |                    |
| Opt_trace_start::Opt_trace_start     : 85         575        sql_parse.cc:3173  0          0.30      |                    |
| MDL_context::release_statement_locks : 82         547        sql_parse.cc:4935  0          0.28      |                    |
| gtid_pre_statement_checks            : 73         575        sql_parse.cc:3184  0          0.26      |                    |
| THD::Query_plan::set_query_plan      : 64         575        sql_parse.cc:3311  0          0.23      |                    |
| MDL_context::release_transactional_l
    ocks                               : 62         28         sql_parse.cc:4931  0          0.01      |                    |
| mysql_event_tracking_query_notify    : 54         575        sql_parse.cc:3231  0          0.19      |                    |
| mysql_event_tracking_query_notify    : 53         575        sql_parse.cc:4862  0          0.19      |                    |
| gtid_pre_statement_post_implicit_com
    mit_checks                         : 52         575        sql_parse.cc:3229  0          0.19      |                    |
| Diagnostics_area::reset_condition_in
    fo                                 : 47         28         sql_parse.cc:2989  0          0.01      |                    |
| launch_hook_trans_begin              : 45         575        sql_parse.cc:3151  0          0.16      |                    |
| trans_reset_one_shot_chistics        : 41         28         sql_parse.cc:4235  0          0.01      |                    |
| is_explainable_query                 : 38         575        sql_parse.cc:4846  0          0.14      |                    |
| Opt_trace_start::~Opt_trace_start    : 30         575        sql_parse.cc:3173  0          0.11      |                    |
| THD::get_protocol                    : 29         575        sql_parse.cc:3043  0          0.10      |                    |
| MYSQL_BIN_LOG::gtid_end_transaction  : 24         28         sql_parse.cc:2872  0          0.00      |                    |
| THD::enter_stage                     : 22         575        sql_parse.cc:4892  0          0.08      |                    |
| THD::enter_stage                     : 21         575        sql_parse.cc:4828  0          0.08      |                    |
| my_ok                                : 20         56         sql_parse.cc:4815  0          0.01      |                    |
| LEX::first_lists_tables_same         : 20         575        sql_parse.cc:2973  0          0.07      |                    |
| stmt_causes_implicit_commit          : 12         547        sql_parse.cc:2868  0          0.04      |                    |
| Transaction_state_tracker::clear_trx
    _state                             : 11         575        sql_parse.cc:4947  0          0.04      |                    |
| Transaction_state_tracker::add_trx_s
    tate_from_thd                      : 10         575        sql_parse.cc:4944  0          0.04      |                    |
| THD::get_protocol                    : 9          575        sql_parse.cc:3294  0          0.03      |                    |
| stmt_causes_implicit_commit          : 7          575        sql_parse.cc:3205  0          0.03      |                    |
| stmt_causes_implicit_commit          : 6          575        sql_parse.cc:4911  0          0.02      |                    |
| Diagnostics_area::reset_diagnostics_
    area                               : 4          575        sql_parse.cc:2980  0          0.02      |                    |
| check_readonly                       : 3          575        sql_parse.cc:1493  0          0.01      |                    |
| Session_tracker::get_tracker         : 2          575        sql_parse.cc:4941  0          0.01      |                    |
| THD::rollback_item_tree_changes      : 2          575        sql_parse.cc:4896  0          0.01      |                    |
| Protocol_text::type                  : 1          28         sql_parse.cc:3294  0          0.00      |                    |
| Protocol_binary::type                : 1          547        sql_parse.cc:3294  0          0.00      |                    |
| command_satisfy_acl_cache_requiremen
    t                                  : 0          575        sql_parse.cc:3319  0          0.00      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [mysql_execute_command]
           called from [Prepared_statement::execute(sql_prepare.cc:3602)]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 0        |                    | 2        |********************|
      8192 -> 16383      : 0        |                    | 0        |                    |
     16384 -> 32767      : 257      |********************| 0        |                    |
     32768 -> 65535      : 155      |************        | 0        |                    |
     65536 -> 131071     : 79       |******              | 0        |                    |
    131072 -> 262143     : 28       |**                  | 0        |                    |
    262144 -> 524287     : 28       |**                  | 1        |**********          |
trace count: 547, average latency: 71128 ns
sched count:   3,   sched latency:   581 ns, cpu percent: 237 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [mysql_execute_command]
                             called from [Prepared_statement::execute(sql_prepare.cc:3602)]:[0m
                   name                : avg        cnt        call_line          sched_time cpu_pct(%) distribution (total) 
| Sql_cmd_dml::execute                 : 68777      519        sql_parse.cc:4669  595        217.57    |********************|
| trans_commit                         : 39366      28         sql_parse.cc:4203  320        6.72      |                    |
| MDL_context::release_transactional_l
    ocks                               : 1060       28         sql_parse.cc:4228  0          0.18      |                    |
| close_thread_tables                  : 966        547        sql_parse.cc:4893  0          3.25      |                    |
| trans_commit_stmt                    : 817        547        sql_parse.cc:4876  0          2.75      |                    |
| Query_expression::cleanup            : 620        547        sql_lex.h:4304     0          2.09      |                    |
| *self                                : 333        547        -                  0          1.12      |                    |
| open_temporary_tables                : 148        519        sql_parse.cc:3306  0          0.47      |                    |
| THD::Query_plan::set_query_plan      : 93         547        sql_parse.cc:4855  0          0.32      |                    |
| Prepared_statement::trace_parameter_
    types                              : 89         519        sql_parse.cc:3179  0          0.29      |                    |
| MDL_context::release_statement_locks : 86         519        sql_parse.cc:4935  0          0.28      |                    |
| Opt_trace_start::Opt_trace_start     : 83         547        sql_parse.cc:3173  0          0.28      |                    |
| gtid_pre_statement_checks            : 75         547        sql_parse.cc:3184  0          0.25      |                    |
| THD::Query_plan::set_query_plan      : 64         547        sql_parse.cc:3311  0          0.22      |                    |
| MDL_context::release_transactional_l
    ocks                               : 62         28         sql_parse.cc:4931  0          0.01      |                    |
| mysql_event_tracking_query_notify    : 56         547        sql_parse.cc:3231  0          0.19      |                    |
| mysql_event_tracking_query_notify    : 55         547        sql_parse.cc:4862  0          0.19      |                    |
| gtid_pre_statement_post_implicit_com
    mit_checks                         : 51         547        sql_parse.cc:3229  0          0.17      |                    |
| trans_reset_one_shot_chistics        : 41         28         sql_parse.cc:4235  0          0.01      |                    |
| is_explainable_query                 : 40         547        sql_parse.cc:4846  0          0.14      |                    |
| launch_hook_trans_begin              : 33         547        sql_parse.cc:3151  0          0.11      |                    |
| Opt_trace_start::~Opt_trace_start    : 30         547        sql_parse.cc:3173  0          0.10      |                    |
| THD::get_protocol                    : 27         547        sql_parse.cc:3043  0          0.09      |                    |
| MYSQL_BIN_LOG::gtid_end_transaction  : 24         28         sql_parse.cc:2872  0          0.00      |                    |
| THD::enter_stage                     : 22         547        sql_parse.cc:4892  0          0.08      |                    |
| THD::enter_stage                     : 21         547        sql_parse.cc:4828  0          0.07      |                    |
| LEX::first_lists_tables_same         : 20         547        sql_parse.cc:2973  0          0.07      |                    |
| my_ok                                : 12         28         sql_parse.cc:4815  0          0.00      |                    |
| stmt_causes_implicit_commit          : 12         519        sql_parse.cc:2868  0          0.04      |                    |
| Transaction_state_tracker::clear_trx
    _state                             : 11         547        sql_parse.cc:4947  0          0.04      |                    |
| Transaction_state_tracker::add_trx_s
    tate_from_thd                      : 10         547        sql_parse.cc:4944  0          0.03      |                    |
| THD::get_protocol                    : 8          547        sql_parse.cc:3294  0          0.03      |                    |
| stmt_causes_implicit_commit          : 7          547        sql_parse.cc:3205  0          0.03      |                    |
| stmt_causes_implicit_commit          : 6          547        sql_parse.cc:4911  0          0.02      |                    |
| Diagnostics_area::reset_diagnostics_
    area                               : 4          547        sql_parse.cc:2980  0          0.02      |                    |
| check_readonly                       : 3          547        sql_parse.cc:1493  0          0.01      |                    |
| Session_tracker::get_tracker         : 2          547        sql_parse.cc:4941  0          0.01      |                    |
| THD::rollback_item_tree_changes      : 2          547        sql_parse.cc:4896  0          0.01      |                    |
| Protocol_binary::type                : 1          547        sql_parse.cc:3294  0          0.00      |                    |
| command_satisfy_acl_cache_requiremen
    t                                  : 0          547        sql_parse.cc:3319  0          0.00      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [mysql_execute_command]
           called from [dispatch_sql_command(sql_parse.cc:5331)]:[0m
          ns             : cnt        distribution        sched      distribution        
      1024 -> 2047       : 26       |********************| 0        |                    |
      2048 -> 4095       : 1        |                    | 0        |                    |
      4096 -> 8191       : 1        |                    | 0        |                    |
trace count: 28, average latency: 1937 ns
sched count:  0,   sched latency:    0 ns, cpu percent: 0 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [mysql_execute_command]
                             called from [dispatch_sql_command(sql_parse.cc:5331)]:[0m
                   name                : avg        cnt        call_line          sched_time cpu_pct(%) distribution (total) 
| trans_begin                          : 464        28         sql_parse.cc:4191  0          0.08      |********************|
| launch_hook_trans_begin              : 271        28         sql_parse.cc:3151  0          0.05      |***********         |
| *self                                : 191        28         -                  0          0.03      |********            |
| Query_expression::cleanup            : 156        28         sql_lex.h:4304     0          0.03      |******              |
| Opt_trace_start::Opt_trace_start     : 122        28         sql_parse.cc:3173  0          0.02      |*****               |
| trans_commit_stmt                    : 89         28         sql_parse.cc:4876  0          0.02      |***                 |
| THD::Query_plan::set_query_plan      : 79         28         sql_parse.cc:3311  0          0.01      |***                 |
| THD::get_protocol                    : 73         28         sql_parse.cc:3043  0          0.01      |***                 |
| gtid_pre_statement_post_implicit_com
    mit_checks                         : 62         28         sql_parse.cc:3229  0          0.01      |**                  |
| Diagnostics_area::reset_condition_in
    fo                                 : 47         28         sql_parse.cc:2989  0          0.01      |**                  |
| THD::Query_plan::set_query_plan      : 43         28         sql_parse.cc:4855  0          0.01      |*                   |
| gtid_pre_statement_checks            : 37         28         sql_parse.cc:3184  0          0.01      |*                   |
| close_thread_tables                  : 32         28         sql_parse.cc:4893  0          0.01      |*                   |
| THD::enter_stage                     : 31         28         sql_parse.cc:4828  0          0.01      |*                   |
| my_ok                                : 28         28         sql_parse.cc:4815  0          0.00      |*                   |
| mysql_event_tracking_query_notify    : 25         28         sql_parse.cc:3231  0          0.00      |*                   |
| THD::get_protocol                    : 25         28         sql_parse.cc:3294  0          0.00      |*                   |
| THD::enter_stage                     : 19         28         sql_parse.cc:4892  0          0.00      |                    |
| Opt_trace_start::~Opt_trace_start    : 19         28         sql_parse.cc:3173  0          0.00      |                    |
| MDL_context::release_statement_locks : 18         28         sql_parse.cc:4935  0          0.00      |                    |
| check_readonly                       : 14         28         sql_parse.cc:1493  0          0.00      |                    |
| stmt_causes_implicit_commit          : 14         28         sql_parse.cc:2868  0          0.00      |                    |
| LEX::first_lists_tables_same         : 14         28         sql_parse.cc:2973  0          0.00      |                    |
| stmt_causes_implicit_commit          : 12         28         sql_parse.cc:4911  0          0.00      |                    |
| Transaction_state_tracker::add_trx_s
    tate_from_thd                      : 11         28         sql_parse.cc:4944  0          0.00      |                    |
| mysql_event_tracking_query_notify    : 9          28         sql_parse.cc:4862  0          0.00      |                    |
| stmt_causes_implicit_commit          : 7          28         sql_parse.cc:3205  0          0.00      |                    |
| Transaction_state_tracker::clear_trx
    _state                             : 4          28         sql_parse.cc:4947  0          0.00      |                    |
| is_explainable_query                 : 2          28         sql_parse.cc:4846  0          0.00      |                    |
| THD::rollback_item_tree_changes      : 2          28         sql_parse.cc:4896  0          0.00      |                    |
| Protocol_text::type                  : 1          28         sql_parse.cc:3294  0          0.00      |                    |
| Diagnostics_area::reset_diagnostics_
    area                               : 0          28         sql_parse.cc:2980  0          0.00      |                    |
| command_satisfy_acl_cache_requiremen
    t                                  : 0          28         sql_parse.cc:3319  0          0.00      |                    |
| Session_tracker::get_tracker         : 0          28         sql_parse.cc:4941  0          0.00      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [open_tables_for_query]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f open_tables_for_query -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 19103 actions, trace errors: 0 ]
[ real trace time: 0.03 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
[32mHistogram - Latency of [open_tables_for_query]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 592      |********************| 0        |                    |
      4096 -> 8191       : 531      |*****************   | 0        |                    |
      8192 -> 16383      : 4        |                    | 0        |                    |
trace count: 1127, average latency: 4177 ns
sched count:    0,   sched latency:    0 ns, cpu percent: 13 %
sched total: 1251, sched each time: 0 ns

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [open_tables_for_query]:[0m
             name          : avg        cnt        call_line         sched_time cpu_pct(%) distribution (total) 
| open_tables              : 4088       1127       sql_base.cc:6927  0          13.39     |********************|
| has_external_table       : 62         871        sql_base.cc:6935  0          0.16      |                    |
| *self                    : 23         1127       -                 0          0.08      |                    |
| MDL_ticket_store::front  : 16         1127       mdl.h:1478        0          0.05      |                    |
| MDL_ticket_store::front  : 0          1127       mdl.h:1478        0          0.00      |                    |

[33m========================================================================================================================[0m
[32mHistogram - Latency of [open_tables_for_query]
           called from [Sql_cmd_dml::execute(sql_select.cc:726)]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 592      |********************| 0        |                    |
      4096 -> 8191       : 531      |*****************   | 0        |                    |
      8192 -> 16383      : 4        |                    | 0        |                    |
trace count: 1127, average latency: 4177 ns
sched count:    0,   sched latency:    0 ns, cpu percent: 13 %

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [open_tables_for_query]
                             called from [Sql_cmd_dml::execute(sql_select.cc:726)]:[0m
             name          : avg        cnt        call_line         sched_time cpu_pct(%) distribution (total) 
| open_tables              : 4088       1127       sql_base.cc:6927  0          13.39     |********************|
| has_external_table       : 62         871        sql_base.cc:6935  0          0.16      |                    |
| *self                    : 23         1127       -                 0          0.08      |                    |
| MDL_ticket_store::front  : 16         1127       mdl.h:1478        0          0.05      |                    |
| MDL_ticket_store::front  : 0          1127       mdl.h:1478        0          0.00      |                    |

[33m========================================================================================================================[0m
%%%%%%%%%%%%% test text case [Sql_cmd_dml::execute]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f Sql_cmd_dml::execute -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 40657 actions, trace errors: 0 ]
[ real trace time: 0.03 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [Sql_cmd_dml::execute]:[0m
          ns             : cnt        distribution        sched      distribution        
     16384 -> 32767      : 588      |********************| 0        |                    |
     32768 -> 65535      : 241      |********            | 0        |                    |
     65536 -> 131071     : 124      |****                | 0        |                    |
    131072 -> 262143     : 61       |**                  | 0        |                    |
    262144 -> 524287     : 57       |*                   | 0        |                    |
trace count: 1071, average latency: 69374 ns
sched count:    0,   sched latency:     0 ns, cpu percent: 221 %
sched total: 1191, sched each time: 0 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [Sql_cmd_dml::execute]:[0m
                   name                : avg        cnt        call_line           sched_time cpu_pct(%) distribution (total) 
| Sql_cmd_dml::execute_inner           : 69210      837        sql_select.cc:782   0          172.83    |********************|
| Sql_cmd_update::execute_inner        : 39476      118        sql_select.cc:782   0          13.90     |*                   |
| Sql_cmd_delete::execute_inner        : 27101      58         sql_select.cc:782   0          4.69      |                    |
| Sql_cmd_insert_values::execute_inner : 21792      58         sql_select.cc:782   0          3.77      |                    |
| open_tables_for_query                : 4174       1071       sql_select.cc:726   0          13.34     |*                   |
| Sql_cmd_update::check_privileges     : 1622       118        sql_select.cc:743   0          0.57      |                    |
| lock_tables                          : 1496       1071       sql_select.cc:778   0          4.78      |                    |
| Sql_cmd_delete::check_privileges     : 1361       58         sql_select.cc:743   0          0.24      |                    |
| Sql_cmd_insert_base::check_privilege
    s                                  : 1340       58         sql_select.cc:743   0          0.23      |                    |
| Sql_cmd_select::check_privileges     : 1295       837        sql_select.cc:743   0          3.24      |                    |
| Sql_cmd_insert_base::restore_cmd_pro
    perties                            : 875        58         sql_select.cc:742   0          0.15      |                    |
| Query_expression::restore_cmd_proper
    ties                               : 642        1013       sql_lex.h:4498      0          1.94      |                    |
| bind_fields                          : 239        1013       sql_select.cc:1074  0          0.72      |                    |
| *self                                : 143        1071       -                   0          0.46      |                    |
| Query_expression::cleanup            : 129        1071       sql_lex.h:4304      0          0.41      |                    |
| run_before_dml_hook                  : 94         234        sql_select.cc:765   0          0.07      |                    |
| THD::enter_stage                     : 28         1071       sql_select.cc:796   0          0.09      |                    |
| LEX::set_secondary_engine_execution_
    context                            : 23         1071       sql_select.cc:801   0          0.08      |                    |
| THD::enter_stage                     : 19         1071       sql_select.cc:760   0          0.06      |                    |
| Sql_cmd_dml::is_data_change_stmt     : 13         234        sql_select.cc:699   0          0.01      |                    |
| validate_use_secondary_engine        : 11         1071       sql_select.cc:753   0          0.04      |                    |
| Query_result_send::cleanup           : 8          837        sql_select.cc:804   0          0.02      |                    |
| Sql_cmd_dml::is_data_change_stmt     : 7          234        sql_select.cc:765   0          0.01      |                    |
| Sql_cmd_select::is_data_change_stmt  : 6          837        sql_select.cc:699   0          0.02      |                    |
| Sql_cmd_select::is_data_change_stmt  : 5          837        sql_select.cc:765   0          0.01      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [Sql_cmd_dml::execute]
           called from [mysql_execute_command(sql_parse.cc:4669)]:[0m
          ns             : cnt        distribution        sched      distribution        
     16384 -> 32767      : 588      |********************| 0        |                    |
     32768 -> 65535      : 241      |********            | 0        |                    |
     65536 -> 131071     : 124      |****                | 0        |                    |
    131072 -> 262143     : 61       |**                  | 0        |                    |
    262144 -> 524287     : 57       |*                   | 0        |                    |
trace count: 1071, average latency: 69374 ns
sched count:    0,   sched latency:     0 ns, cpu percent: 221 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [Sql_cmd_dml::execute]
                             called from [mysql_execute_command(sql_parse.cc:4669)]:[0m
                   name                : avg        cnt        call_line           sched_time cpu_pct(%) distribution (total) 
| Sql_cmd_dml::execute_inner           : 69210      837        sql_select.cc:782   0          172.83    |********************|
| Sql_cmd_update::execute_inner        : 39476      118        sql_select.cc:782   0          13.90     |*                   |
| Sql_cmd_delete::execute_inner        : 27101      58         sql_select.cc:782   0          4.69      |                    |
| Sql_cmd_insert_values::execute_inner : 21792      58         sql_select.cc:782   0          3.77      |                    |
| open_tables_for_query                : 4174       1071       sql_select.cc:726   0          13.34     |*                   |
| Sql_cmd_update::check_privileges     : 1622       118        sql_select.cc:743   0          0.57      |                    |
| lock_tables                          : 1496       1071       sql_select.cc:778   0          4.78      |                    |
| Sql_cmd_delete::check_privileges     : 1361       58         sql_select.cc:743   0          0.24      |                    |
| Sql_cmd_insert_base::check_privilege
    s                                  : 1340       58         sql_select.cc:743   0          0.23      |                    |
| Sql_cmd_select::check_privileges     : 1295       837        sql_select.cc:743   0          3.24      |                    |
| Sql_cmd_insert_base::restore_cmd_pro
    perties                            : 875        58         sql_select.cc:742   0          0.15      |                    |
| Query_expression::restore_cmd_proper
    ties                               : 642        1013       sql_lex.h:4498      0          1.94      |                    |
| bind_fields                          : 239        1013       sql_select.cc:1074  0          0.72      |                    |
| *self                                : 143        1071       -                   0          0.46      |                    |
| Query_expression::cleanup            : 129        1071       sql_lex.h:4304      0          0.41      |                    |
| run_before_dml_hook                  : 94         234        sql_select.cc:765   0          0.07      |                    |
| THD::enter_stage                     : 28         1071       sql_select.cc:796   0          0.09      |                    |
| LEX::set_secondary_engine_execution_
    context                            : 23         1071       sql_select.cc:801   0          0.08      |                    |
| THD::enter_stage                     : 19         1071       sql_select.cc:760   0          0.06      |                    |
| Sql_cmd_dml::is_data_change_stmt     : 13         234        sql_select.cc:699   0          0.01      |                    |
| validate_use_secondary_engine        : 11         1071       sql_select.cc:753   0          0.04      |                    |
| Query_result_send::cleanup           : 8          837        sql_select.cc:804   0          0.02      |                    |
| Sql_cmd_dml::is_data_change_stmt     : 7          234        sql_select.cc:765   0          0.01      |                    |
| Sql_cmd_select::is_data_change_stmt  : 6          837        sql_select.cc:699   0          0.02      |                    |
| Sql_cmd_select::is_data_change_stmt  : 5          837        sql_select.cc:765   0          0.01      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [row_search_mvcc]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f row_search_mvcc -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 298625 actions, trace errors: 0 ]
[ real trace time: 0.01 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [row_search_mvcc]:[0m
          ns             : cnt        distribution        sched      distribution        
        16 -> 31         : 758      |**                  | 0        |                    |
        32 -> 63         : 1153     |****                | 0        |                    |
        64 -> 127        : 5284     |********************| 0        |                    |
       128 -> 255        : 707      |**                  | 0        |                    |
       256 -> 511        : 223      |                    | 0        |                    |
       512 -> 1023       : 169      |                    | 0        |                    |
      1024 -> 2047       : 516      |*                   | 0        |                    |
      2048 -> 4095       : 729      |**                  | 0        |                    |
      4096 -> 8191       : 267      |*                   | 0        |                    |
      8192 -> 16383      : 6        |                    | 0        |                    |
trace count: 9812, average latency: 520 ns
sched count:    0,   sched latency:   0 ns, cpu percent: 36 %
sched total: 476, sched each time: 0 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_search_mvcc]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| btr_cur_search_to_nth_level          : 2144       405        btr0pcur.h:617   0          6.26      |********************|
| lock_table                           : 1044       75         row0sel.cc:4828  0          0.56      |*                   |
| sel_set_rec_lock                     : 779        75         row0sel.cc:5228  0          0.42      |*                   |
| trx_assign_read_view                 : 435        330        row0sel.cc:4822  0          1.04      |***                 |
| sel_restore_position_for_mysql       : 273        1336       row0sel.cc:4848  0          2.64      |********            |
| row_sel_store_mysql_rec              : 215        467        row0sel.cc:5699  0          0.73      |**                  |
| btr_pcur_t::store_position           : 179        15         row0sel.cc:5873  0          0.02      |                    |
| btr_pcur_t::store_position           : 159        232        row0sel.cc:5185  0          0.27      |                    |
| mtr_t::commit                        : 107        1741       row0sel.cc:5971  0          1.35      |****                |
| row_sel_store_mysql_rec              : 90         9504       row0sel.cc:5612  0          6.22      |******************* |
| btr_pcur_t::store_position           : 83         1494       row0sel.cc:5740  0          0.90      |**                  |
| *self                                : 73         9812       -                0          5.18      |****************    |
| rec_get_offsets                      : 53         10203      row0sel.cc:5099  0          3.92      |************        |
| cmp_dtuple_rec                       : 45         539        row0sel.cc:5132  0          0.18      |                    |
| row_sel_copy_cached_field_for_mysql  : 30         12014      row0sel.cc:3604  0          2.64      |********            |
| mtr_t::start                         : 28         1741       row0sel.cc:4631  0          0.36      |*                   |
| thd_is_query_block                   : 18         75         row0sel.cc:4771  0          0.01      |                    |
| trx_kill_blocking                    : 16         1741       row0sel.cc:5976  0          0.21      |                    |
| trx_start_if_not_started_xa_low      : 14         1741       trx0trx.h:1305   0          0.18      |                    |
| memcpy@plt                           : 12         2064       ut0mem.ic:44     0          0.19      |                    |
| que_thr_stop_for_mysql_no_error      : 11         1741       row0sel.cc:5969  0          0.15      |                    |
| btr_pcur_t::move_to_next             : 9          10101      row0sel.cc:5867  0          0.69      |**                  |
| que_thr_move_to_run_state_for_mysql  : 8          1741       row0sel.cc:4796  0          0.10      |                    |
| lock_clust_rec_cons_read_sees        : 7          9896       row0sel.cc:5314  0          0.53      |*                   |
| trx_is_interrupted                   : 7          10498      row0sel.cc:4936  0          0.53      |*                   |
| lob::undo_vers_t::reset              : 5          9812       row0mysql.h:855  0          0.41      |*                   |
| lob::undo_vers_t::reset              : 5          10498      row0mysql.h:855  0          0.43      |*                   |
| row_prebuilt_t::can_prefetch_records : 3          9579       row0sel.cc:5576  0          0.26      |                    |
| mtr_t::~mtr_t                        : 3          9812       row0sel.cc:4455  0          0.24      |                    |
| MVCC::is_view_active                 : 2          9896       trx0trx.ic:243   0          0.20      |                    |
| row_sel_enqueue_cache_row_for_mysql  : 0          8237       row0sel.cc:5666  0          0.02      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [row_search_mvcc]
           called from [ha_innobase::index_read(ha_innodb.cc:10559)]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 142      |***********         | 0        |                    |
      4096 -> 8191       : 257      |********************| 0        |                    |
      8192 -> 16383      : 6        |                    | 0        |                    |
trace count: 405, average latency: 4616 ns
sched count:   0,   sched latency:    0 ns, cpu percent: 13 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_search_mvcc]
                             called from [ha_innobase::index_read(ha_innodb.cc:10559)]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| btr_cur_search_to_nth_level          : 2144       405        btr0pcur.h:617   0          6.26      |********************|
| lock_table                           : 1044       75         row0sel.cc:4828  0          0.56      |*                   |
| sel_set_rec_lock                     : 779        75         row0sel.cc:5228  0          0.42      |*                   |
| trx_assign_read_view                 : 435        330        row0sel.cc:4822  0          1.04      |***                 |
| row_sel_store_mysql_rec              : 396        173        row0sel.cc:5699  0          0.49      |*                   |
| *self                                : 391        405        -                0          1.14      |***                 |
| row_sel_store_mysql_rec              : 290        232        row0sel.cc:5612  0          0.49      |*                   |
| btr_pcur_t::store_position           : 232        173        row0sel.cc:5740  0          0.29      |                    |
| mtr_t::commit                        : 162        405        row0sel.cc:5971  0          0.47      |*                   |
| btr_pcur_t::store_position           : 159        232        row0sel.cc:5185  0          0.27      |                    |
| rec_get_offsets                      : 131        637        row0sel.cc:5099  0          0.60      |*                   |
| trx_kill_blocking                    : 52         405        row0sel.cc:5976  0          0.15      |                    |
| trx_start_if_not_started_xa_low      : 49         405        trx0trx.h:1305   0          0.14      |                    |
| trx_is_interrupted                   : 48         655        row0sel.cc:4936  0          0.23      |                    |
| mtr_t::start                         : 46         405        row0sel.cc:4631  0          0.13      |                    |
| cmp_dtuple_rec                       : 45         539        row0sel.cc:5132  0          0.18      |                    |
| lock_clust_rec_cons_read_sees        : 34         330        row0sel.cc:5314  0          0.08      |                    |
| mtr_t::~mtr_t                        : 33         405        row0sel.cc:4455  0          0.10      |                    |
| btr_pcur_t::move_to_next             : 32         250        row0sel.cc:5867  0          0.06      |                    |
| MVCC::is_view_active                 : 29         330        trx0trx.ic:243   0          0.07      |                    |
| row_prebuilt_t::can_prefetch_records : 27         307        row0sel.cc:5576  0          0.06      |                    |
| que_thr_move_to_run_state_for_mysql  : 24         405        row0sel.cc:4796  0          0.07      |                    |
| thd_is_query_block                   : 18         75         row0sel.cc:4771  0          0.01      |                    |
| que_thr_stop_for_mysql_no_error      : 17         405        row0sel.cc:5969  0          0.05      |                    |
| lob::undo_vers_t::reset              : 15         655        row0mysql.h:855  0          0.07      |                    |
| lob::undo_vers_t::reset              : 8          405        row0mysql.h:855  0          0.03      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [row_search_mvcc]
           called from [ha_innobase::general_fetch(ha_innodb.cc:10811)]:[0m
          ns             : cnt        distribution        sched      distribution        
        16 -> 31         : 758      |**                  | 0        |                    |
        32 -> 63         : 1153     |****                | 0        |                    |
        64 -> 127        : 5284     |********************| 0        |                    |
       128 -> 255        : 707      |**                  | 0        |                    |
       256 -> 511        : 223      |                    | 0        |                    |
       512 -> 1023       : 169      |                    | 0        |                    |
      1024 -> 2047       : 516      |*                   | 0        |                    |
      2048 -> 4095       : 587      |**                  | 0        |                    |
      4096 -> 8191       : 10       |                    | 0        |                    |
trace count: 9407, average latency: 344 ns
sched count:    0,   sched latency:   0 ns, cpu percent: 23 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_search_mvcc]
                             called from [ha_innobase::general_fetch(ha_innodb.cc:10811)]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| sel_restore_position_for_mysql       : 273        1336       row0sel.cc:4848  0          2.64      |*********           |
| btr_pcur_t::store_position           : 179        15         row0sel.cc:5873  0          0.02      |                    |
| row_sel_store_mysql_rec              : 109        294        row0sel.cc:5699  0          0.23      |                    |
| mtr_t::commit                        : 90         1336       row0sel.cc:5971  0          0.87      |***                 |
| row_sel_store_mysql_rec              : 85         9272       row0sel.cc:5612  0          5.73      |********************|
| btr_pcur_t::store_position           : 64         1321       row0sel.cc:5740  0          0.61      |**                  |
| *self                                : 59         9407       -                0          4.04      |**************      |
| rec_get_offsets                      : 48         9566       row0sel.cc:5099  0          3.32      |***********         |
| row_sel_copy_cached_field_for_mysql  : 30         12014      row0sel.cc:3604  0          2.64      |*********           |
| mtr_t::start                         : 23         1336       row0sel.cc:4631  0          0.23      |                    |
| memcpy@plt                           : 12         2064       ut0mem.ic:44     0          0.19      |                    |
| que_thr_stop_for_mysql_no_error      : 9          1336       row0sel.cc:5969  0          0.10      |                    |
| btr_pcur_t::move_to_next             : 8          9851       row0sel.cc:5867  0          0.63      |**                  |
| trx_kill_blocking                    : 6          1336       row0sel.cc:5976  0          0.06      |                    |
| lock_clust_rec_cons_read_sees        : 6          9566       row0sel.cc:5314  0          0.45      |*                   |
| lob::undo_vers_t::reset              : 5          9843       row0mysql.h:855  0          0.36      |*                   |
| lob::undo_vers_t::reset              : 5          9407       row0mysql.h:855  0          0.38      |*                   |
| trx_is_interrupted                   : 4          9843       row0sel.cc:4936  0          0.30      |*                   |
| row_prebuilt_t::can_prefetch_records : 3          9272       row0sel.cc:5576  0          0.20      |                    |
| trx_start_if_not_started_xa_low      : 3          1336       trx0trx.h:1305   0          0.03      |                    |
| que_thr_move_to_run_state_for_mysql  : 3          1336       row0sel.cc:4796  0          0.03      |                    |
| mtr_t::~mtr_t                        : 2          9407       row0sel.cc:4455  0          0.14      |                    |
| MVCC::is_view_active                 : 1          9566       trx0trx.ic:243   0          0.13      |                    |
| row_sel_enqueue_cache_row_for_mysql  : 0          8237       row0sel.cc:5666  0          0.02      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [rec_get_offsets_func]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f rec_get_offsets_func -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 7248 actions, trace errors: 0 ]
[ real trace time: 0.03 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
%%%%%%%%%%%%% test text case [row_sel_store_mysql_rec]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f row_sel_store_mysql_rec -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 183531 actions, trace errors: 0 ]
[ real trace time: 0.04 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
[32mHistogram - Latency of [row_sel_store_mysql_rec]:[0m
          ns             : cnt        distribution        sched      distribution        
        32 -> 63         : 5992     |******              | 0        |                    |
        64 -> 127        : 19401    |********************| 0        |                    |
       128 -> 255        : 2126     |**                  | 0        |                    |
       256 -> 511        : 1129     |*                   | 0        |                    |
       512 -> 1023       : 88       |                    | 0        |                    |
      1024 -> 2047       : 2        |                    | 0        |                    |
      2048 -> 4095       : 0        |                    | 0        |                    |
      4096 -> 8191       : 4        |                    | 0        |                    |
trace count: 28742, average latency: 93 ns
sched count:     0,   sched latency:  0 ns, cpu percent: 6 %
sched total: 1396, sched each time: 0 ns

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_sel_store_mysql_rec]:[0m
              name           : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_sel_store_mysql_field  : 35         57902      row0sel.cc:3025  0          5.31      |********************|
| *self                      : 20         28742      -                0          1.54      |*****               |

[33m========================================================================================================================[0m
[32mHistogram - Latency of [row_sel_store_mysql_rec]
           called from [row_search_mvcc(row0sel.cc:5612)]:[0m
          ns             : cnt        distribution        sched      distribution        
        32 -> 63         : 5965     |******              | 0        |                    |
        64 -> 127        : 18722    |********************| 0        |                    |
       128 -> 255        : 1975     |**                  | 0        |                    |
       256 -> 511        : 740      |                    | 0        |                    |
       512 -> 1023       : 5        |                    | 0        |                    |
      1024 -> 2047       : 2        |                    | 0        |                    |
      2048 -> 4095       : 0        |                    | 0        |                    |
      4096 -> 8191       : 4        |                    | 0        |                    |
trace count: 27413, average latency: 87 ns
sched count:     0,   sched latency:  0 ns, cpu percent: 6 %

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_sel_store_mysql_rec]
                             called from [row_search_mvcc(row0sel.cc:5612)]:[0m
              name           : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_sel_store_mysql_field  : 34         54826      row0sel.cc:3025  0          4.76      |********************|
| *self                      : 19         27413      -                0          1.38      |*****               |

[33m========================================================================================================================[0m
[32mHistogram - Latency of [row_sel_store_mysql_rec]
           called from [row_search_mvcc(row0sel.cc:5699)]:[0m
          ns             : cnt        distribution        sched      distribution        
        32 -> 63         : 27       |                    | 0        |                    |
        64 -> 127        : 679      |********************| 0        |                    |
       128 -> 255        : 151      |****                | 0        |                    |
       256 -> 511        : 389      |***********         | 0        |                    |
       512 -> 1023       : 83       |**                  | 0        |                    |
trace count: 1329, average latency: 208 ns
sched count:    0,   sched latency:   0 ns, cpu percent: 0 %

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_sel_store_mysql_rec]
                             called from [row_search_mvcc(row0sel.cc:5699)]:[0m
              name           : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_sel_store_mysql_field  : 70         3076       row0sel.cc:3025  0          0.55      |********************|
| *self                      : 46         1329       -                0          0.16      |*****               |

[33m========================================================================================================================[0m
%%%%%%%%%%%%% test text case [Optimize_table_order::choose_table_order]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f Optimize_table_order::choose_table_order -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 7165 actions, trace errors: 0 ]
[ real trace time: 0.02 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [Optimize_table_order::choose_table_order]:[0m
          ns             : cnt        distribution        sched      distribution        
        32 -> 63         : 3        |                    | 0        |                    |
        64 -> 127        : 204      |********************| 0        |                    |
       128 -> 255        : 61       |*****               | 0        |                    |
       256 -> 511        : 16       |*                   | 0        |                    |
       512 -> 1023       : 0        |                    | 0        |                    |
      1024 -> 2047       : 114      |***********         | 0        |                    |
      2048 -> 4095       : 2        |                    | 0        |                    |
      4096 -> 8191       : 1        |                    | 0        |                    |
trace count: 401, average latency: 590 ns
sched count:   0,   sched latency:   0 ns, cpu percent: 1 %
sched total: 566, sched each time: 0 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [Optimize_table_order::choose_table_order]:[0m
                   name                : avg        cnt        call_line            sched_time cpu_pct(%) distribution (total) 
| Optimize_table_order::greedy_search  : 1277       117        sql_planner.cc:2030  0          0.93      |********************|
| Item_func::walk                      : 166        117        sql_planner.cc:2019  0          0.12      |**                  |
| *self                                : 94         401        -                    0          0.24      |*****               |
| memcpy@plt                           : 68         284        sql_planner.cc:1963  0          0.12      |**                  |
| memset@plt                           : 27         117        my_bitmap.h:122      0          0.02      |                    |
| Query_block::reset_nj_counters       : 23         117        sql_planner.cc:1971  0          0.02      |                    |
| merge_sort<JOIN_TAB, Join_tab_compar
    e_default>                         : 20         117        sql_planner.cc:1998  0          0.01      |                    |
| Optimize_table_order::recalculate_la
    teral_deps                         : 9          117        sql_planner.cc:2023  0          0.01      |                    |
| Optimize_table_order::fix_semijoin_s
    trategies                          : 7          117        sql_planner.cc:2041  0          0.01      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [Optimize_table_order::choose_table_order]
           called from [JOIN::make_join_plan(sql_optimizer.cc:5424)]:[0m
          ns             : cnt        distribution        sched      distribution        
        32 -> 63         : 3        |                    | 0        |                    |
        64 -> 127        : 204      |********************| 0        |                    |
       128 -> 255        : 61       |*****               | 0        |                    |
       256 -> 511        : 16       |*                   | 0        |                    |
       512 -> 1023       : 0        |                    | 0        |                    |
      1024 -> 2047       : 114      |***********         | 0        |                    |
      2048 -> 4095       : 2        |                    | 0        |                    |
      4096 -> 8191       : 1        |                    | 0        |                    |
trace count: 401, average latency: 590 ns
sched count:   0,   sched latency:   0 ns, cpu percent: 1 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [Optimize_table_order::choose_table_order]
                             called from [JOIN::make_join_plan(sql_optimizer.cc:5424)]:[0m
                   name                : avg        cnt        call_line            sched_time cpu_pct(%) distribution (total) 
| Optimize_table_order::greedy_search  : 1277       117        sql_planner.cc:2030  0          0.93      |********************|
| Item_func::walk                      : 166        117        sql_planner.cc:2019  0          0.12      |**                  |
| *self                                : 94         401        -                    0          0.24      |*****               |
| memcpy@plt                           : 68         284        sql_planner.cc:1963  0          0.12      |**                  |
| memset@plt                           : 27         117        my_bitmap.h:122      0          0.02      |                    |
| Query_block::reset_nj_counters       : 23         117        sql_planner.cc:1971  0          0.02      |                    |
| merge_sort<JOIN_TAB, Join_tab_compar
    e_default>                         : 20         117        sql_planner.cc:1998  0          0.01      |                    |
| Optimize_table_order::recalculate_la
    teral_deps                         : 9          117        sql_planner.cc:2023  0          0.01      |                    |
| Optimize_table_order::fix_semijoin_s
    trategies                          : 7          117        sql_planner.cc:2041  0          0.01      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [handler::ha_update_row]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f handler::ha_update_row -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 3671 actions, trace errors: 0 ]
[ real trace time: 0.01 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
[32mHistogram - Child functions's Latency of [handler::ha_update_row]
                             called from [unknown(-)]:[0m
               name            : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| ha_innobase::update_row      : 13762      50         handler.cc:8107  0          4.88      |********************|
| handler::mark_trx_read_write : 152        50         handler.cc:8100  0          0.05      |                    |
| binlog_log_row               : WARNING: Return of this child function is not found, you can trace its latency by 
                                 '-f' directly

[33m========================================================================================================================[0m
%%%%%%%%%%%%% test text case [ha_innobase::update_row]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f ha_innobase::update_row -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 5211 actions, trace errors: 0 ]
[ real trace time: 0.02 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [ha_innobase::update_row]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 30       |******************* | 0        |                    |
      8192 -> 16383      : 0        |                    | 0        |                    |
     16384 -> 32767      : 31       |********************| 0        |                    |
trace count: 61, average latency: 13533 ns
sched count:  0,   sched latency:     0 ns, cpu percent: 5 %
sched total: 600, sched each time: 0 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [ha_innobase::update_row]:[0m
                   name                : avg        cnt        call_line           sched_time cpu_pct(%) distribution (total) 
| row_update_for_mysql                 : 12310      61         ha_innodb.cc:10089  0          4.69      |********************|
| calc_row_difference                  : 922        61         ha_innodb.cc:10067  0          0.35      |*                   |
| *self                                : 117        61         -                   0          0.04      |                    |
| thd_to_trx                           : 71         61         ha_innodb.cc:10017  0          0.03      |                    |
| convert_error_code_to_mysql          : 64         61         ha_innodb.cc:10147  0          0.02      |                    |
| row_prebuilt_t::skip_concurrency_tic
    ket                                : 32         61         ha_innodb.cc:1873   0          0.01      |                    |
| row_prebuilt_t::skip_concurrency_tic
    ket                                : 12         61         ha_innodb.cc:1836   0          0.00      |                    |
| handler::ha_statistic_increment      : 1          61         ha_innodb.cc:10051  0          0.00      |                    |
| row_upd_get_new_autoinc_counter      : 0          61         ha_innodb.cc:10092  0          0.00      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [ha_innobase::update_row]
           called from [handler::ha_update_row(handler.cc:8107)]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 30       |******************* | 0        |                    |
      8192 -> 16383      : 0        |                    | 0        |                    |
     16384 -> 32767      : 31       |********************| 0        |                    |
trace count: 61, average latency: 13533 ns
sched count:  0,   sched latency:     0 ns, cpu percent: 5 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [ha_innobase::update_row]
                             called from [handler::ha_update_row(handler.cc:8107)]:[0m
                   name                : avg        cnt        call_line           sched_time cpu_pct(%) distribution (total) 
| row_update_for_mysql                 : 12310      61         ha_innodb.cc:10089  0          4.69      |********************|
| calc_row_difference                  : 922        61         ha_innodb.cc:10067  0          0.35      |*                   |
| *self                                : 117        61         -                   0          0.04      |                    |
| thd_to_trx                           : 71         61         ha_innodb.cc:10017  0          0.03      |                    |
| convert_error_code_to_mysql          : 64         61         ha_innodb.cc:10147  0          0.02      |                    |
| row_prebuilt_t::skip_concurrency_tic
    ket                                : 32         61         ha_innodb.cc:1873   0          0.01      |                    |
| row_prebuilt_t::skip_concurrency_tic
    ket                                : 12         61         ha_innodb.cc:1836   0          0.00      |                    |
| handler::ha_statistic_increment      : 1          61         ha_innodb.cc:10051  0          0.00      |                    |
| row_upd_get_new_autoinc_counter      : 0          61         ha_innodb.cc:10092  0          0.00      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [row_upd_step]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f row_upd_step -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 11420 actions, trace errors: 0 ]
[ real trace time: 0.03 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [row_upd_step]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 84       |********************| 0        |                    |
      8192 -> 16383      : 41       |*********           | 0        |                    |
     16384 -> 32767      : 63       |***************     | 0        |                    |
trace count: 188, average latency: 10858 ns
sched count:   0,   sched latency:     0 ns, cpu percent: 6 %
sched total: 1242, sched each time: 0 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_upd_step]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_upd_clust_step                   : 6385       188        row0upd.cc:3187  0          3.74      |********************|
| row_upd_sec_index_entry_low          : 6226       125        row0upd.cc:2411  0          2.42      |************        |
| row_upd_changes_ord_field_binary_fun
    c                                  : 168        63         row0upd.h:290    0          0.03      |                    |
| *self                                : 140        188        -                0          0.08      |                    |
| mem_heap_block_free                  : 91         188        mem0mem.ic:239   0          0.05      |                    |
| row_upd_changes_some_index_ord_field
    _binary                            : 45         126        row0upd.cc:3173  0          0.02      |                    |
| trx_start_if_not_started_low         : 14         188        trx0trx.h:1293   0          0.01      |                    |
| mem_heap_free_block_free             : 0          125        mem0mem.ic:278   0          0.00      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [row_upd_step]
           called from [row_update_for_mysql_using_upd_graph(row0mysql.cc:2357)]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 84       |********************| 0        |                    |
      8192 -> 16383      : 41       |*********           | 0        |                    |
     16384 -> 32767      : 63       |***************     | 0        |                    |
trace count: 188, average latency: 10858 ns
sched count:   0,   sched latency:     0 ns, cpu percent: 6 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_upd_step]
                             called from [row_update_for_mysql_using_upd_graph(row0mysql.cc:2357)]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_upd_clust_step                   : 6385       188        row0upd.cc:3187  0          3.74      |********************|
| row_upd_sec_index_entry_low          : 6226       125        row0upd.cc:2411  0          2.42      |************        |
| row_upd_changes_ord_field_binary_fun
    c                                  : 168        63         row0upd.h:290    0          0.03      |                    |
| *self                                : 140        188        -                0          0.08      |                    |
| mem_heap_block_free                  : 91         188        mem0mem.ic:239   0          0.05      |                    |
| row_upd_changes_some_index_ord_field
    _binary                            : 45         126        row0upd.cc:3173  0          0.02      |                    |
| trx_start_if_not_started_low         : 14         188        trx0trx.h:1293   0          0.01      |                    |
| mem_heap_free_block_free             : 0          125        mem0mem.ic:278   0          0.00      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [row_upd_clust_step]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f row_upd_clust_step -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 5730 actions, trace errors: 0 ]
[ real trace time: 0.02 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [row_upd_clust_step]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 6        |**                  | 0        |                    |
      4096 -> 8191       : 58       |********************| 0        |                    |
      8192 -> 16383      : 26       |********            | 0        |                    |
     16384 -> 32767      : 3        |*                   | 0        |                    |
trace count: 93, average latency: 6277 ns
sched count:  0,   sched latency:    0 ns, cpu percent: 3 %
sched total: 600, sched each time: 0 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_upd_clust_step]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_upd_clust_rec                    : 7170       31         row0upd.cc:3128  0          1.40      |********************|
| row_upd_clust_rec                    : 3778       31         row0upd.cc:3099  0          0.74      |**********          |
| btr_cur_del_mark_set_clust_rec       : 2636       31         row0upd.cc:2968  0          0.51      |*******             |
| row_upd_store_row                    : 1636       31         row0upd.cc:3103  0          0.32      |****                |
| row_upd_store_row                    : 843        31         row0upd.cc:2962  0          0.16      |**                  |
| btr_pcur_t::restore_position         : 553        93         row0upd.cc:3048  0          0.32      |****                |
| mtr_t::commit                        : 420        31         row0upd.cc:2978  0          0.08      |*                   |
| rec_get_offsets                      : 89         93         row0upd.cc:3059  0          0.05      |                    |
| mtr_t::start                         : 64         93         row0upd.cc:3010  0          0.04      |                    |
| row_upd_changes_ord_field_binary_fun
    c                                  : 57         31         row0upd.h:290    0          0.01      |                    |
| row_upd_index_is_referenced          : 26         93         row0upd.cc:3004  0          0.02      |                    |
| *self                                : 19         93         -                0          0.01      |                    |
| mtr_t::~mtr_t                        : 9          93         row0upd.cc:2993  0          0.01      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [row_upd_clust_step]
           called from [row_upd_step(row0upd.cc:3187)]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 6        |**                  | 0        |                    |
      4096 -> 8191       : 58       |********************| 0        |                    |
      8192 -> 16383      : 26       |********            | 0        |                    |
     16384 -> 32767      : 3        |*                   | 0        |                    |
trace count: 93, average latency: 6277 ns
sched count:  0,   sched latency:    0 ns, cpu percent: 3 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_upd_clust_step]
                             called from [row_upd_step(row0upd.cc:3187)]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_upd_clust_rec                    : 7170       31         row0upd.cc:3128  0          1.40      |********************|
| row_upd_clust_rec                    : 3778       31         row0upd.cc:3099  0          0.74      |**********          |
| btr_cur_del_mark_set_clust_rec       : 2636       31         row0upd.cc:2968  0          0.51      |*******             |
| row_upd_store_row                    : 1636       31         row0upd.cc:3103  0          0.32      |****                |
| row_upd_store_row                    : 843        31         row0upd.cc:2962  0          0.16      |**                  |
| btr_pcur_t::restore_position         : 553        93         row0upd.cc:3048  0          0.32      |****                |
| mtr_t::commit                        : 420        31         row0upd.cc:2978  0          0.08      |*                   |
| rec_get_offsets                      : 89         93         row0upd.cc:3059  0          0.05      |                    |
| mtr_t::start                         : 64         93         row0upd.cc:3010  0          0.04      |                    |
| row_upd_changes_ord_field_binary_fun
    c                                  : 57         31         row0upd.h:290    0          0.01      |                    |
| row_upd_index_is_referenced          : 26         93         row0upd.cc:3004  0          0.02      |                    |
| *self                                : 19         93         -                0          0.01      |                    |
| mtr_t::~mtr_t                        : 9          93         row0upd.cc:2993  0          0.01      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [row_upd_clust_rec]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f row_upd_clust_rec -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 6644 actions, trace errors: 0 ]
[ real trace time: 0.02 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
[32mHistogram - Latency of [row_upd_clust_rec]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 37       |**************      | 0        |                    |
      4096 -> 8191       : 51       |********************| 0        |                    |
      8192 -> 16383      : 0        |                    | 0        |                    |
     16384 -> 32767      : 4        |*                   | 0        |                    |
trace count: 92, average latency: 6038 ns
sched count:  0,   sched latency:    0 ns, cpu percent: 2 %
sched total: 890, sched each time: 0 ns

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_upd_clust_rec]:[0m
                 name              : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| btr_cur_optimistic_update        : 5543       92         row0upd.cc:2837  0          2.05      |********************|
| mtr_t::commit                    : 429        92         row0upd.cc:2914  0          0.16      |*                   |
| *self                            : 58         92         -                0          0.02      |                    |
| row_upd_get_new_autoinc_counter  : 16         46         row0upd.cc:2747  0          0.00      |                    |

[33m========================================================================================================================[0m
[32mHistogram - Latency of [row_upd_clust_rec]
           called from [row_upd_clust_step(row0upd.cc:3128)]:[0m
          ns             : cnt        distribution        sched      distribution        
      4096 -> 8191       : 42       |********************| 0        |                    |
      8192 -> 16383      : 0        |                    | 0        |                    |
     16384 -> 32767      : 4        |*                   | 0        |                    |
trace count: 46, average latency: 8170 ns
sched count:  0,   sched latency:    0 ns, cpu percent: 1 %

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_upd_clust_rec]
                             called from [row_upd_clust_step(row0upd.cc:3128)]:[0m
                 name              : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| btr_cur_optimistic_update        : 7765       46         row0upd.cc:2837  0          1.43      |********************|
| mtr_t::commit                    : 356        46         row0upd.cc:2914  0          0.07      |                    |
| *self                            : 31         46         -                0          0.01      |                    |
| row_upd_get_new_autoinc_counter  : 16         46         row0upd.cc:2747  0          0.00      |                    |

[33m========================================================================================================================[0m
[32mHistogram - Latency of [row_upd_clust_rec]
           called from [row_upd_clust_step(row0upd.cc:3099)]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 37       |********************| 0        |                    |
      4096 -> 8191       : 9        |****                | 0        |                    |
trace count: 46, average latency: 3906 ns
sched count:  0,   sched latency:    0 ns, cpu percent: 0 %

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [row_upd_clust_rec]
                             called from [row_upd_clust_step(row0upd.cc:3099)]:[0m
              name           : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| btr_cur_optimistic_update  : 3320       46         row0upd.cc:2837  0          0.61      |********************|
| mtr_t::commit              : 501        46         row0upd.cc:2914  0          0.09      |***                 |
| *self                      : 84         46         -                0          0.02      |                    |

[33m========================================================================================================================[0m
%%%%%%%%%%%%% test text case [btr_cur_optimistic_update]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f btr_cur_optimistic_update -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 5474 actions, trace errors: 0 ]
[ real trace time: 0.02 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
[32mHistogram - Child functions's Latency of [btr_cur_optimistic_update]
                             called from [unknown(-)]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| row_upd_changes_field_size_or_extern
    al                                 : 172        104        btr0cur.cc:3545  0          0.08      |********************|
| rec_get_offsets                      : 131        104        btr0cur.cc:3535  0          0.06      |***************     |
| btr_cur_update_in_place              : WARNING: Return of this child function is not found, you can trace its latency by 
                                         '-f' directly

[33m========================================================================================================================[0m
%%%%%%%%%%%%% test text case [btr_cur_update_in_place]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f btr_cur_update_in_place -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 10580 actions, trace errors: 0 ]
[ real trace time: 0.04 seconds ]
[ miss trace time: 0.00 seconds ]

[33m============================================================================================================================[0m
[32mHistogram - Latency of [btr_cur_update_in_place]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 112      |********************| 0        |                    |
      4096 -> 8191       : 82       |**************      | 0        |                    |
      8192 -> 16383      : 1        |                    | 0        |                    |
     16384 -> 32767      : 3        |                    | 0        |                    |
trace count: 198, average latency: 4635 ns
sched count:   0,   sched latency:    0 ns, cpu percent: 2 %
sched total: 1324, sched each time: 0 ns

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [btr_cur_update_in_place]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| trx_undo_report_row_operation        : 3602       198        btr0cur.cc:3120  0          1.85      |********************|
| lock_clust_rec_modify_check_and_lock : 744        67         btr0cur.cc:3111  0          0.13      |*                   |
| btr_cur_update_in_place_log          : 578        198        btr0cur.cc:3415  0          0.30      |***                 |
| row_upd_rec_in_place                 : 123        198        btr0cur.cc:3413  0          0.06      |                    |
| *self                                : 75         198        -                0          0.04      |                    |
| lob::BtrContext::unmark_extern_field
    s                                  : 10         67         btr0cur.cc:3423  0          0.00      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [btr_cur_update_in_place]
           called from [row_upd_clust_rec(btr0cur.cc:3551)]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 66       |********************| 0        |                    |
      4096 -> 8191       : 62       |******************  | 0        |                    |
      8192 -> 16383      : 0        |                    | 0        |                    |
     16384 -> 32767      : 3        |                    | 0        |                    |
trace count: 131, average latency: 4927 ns
sched count:   0,   sched latency:    0 ns, cpu percent: 1 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [btr_cur_update_in_place]
                             called from [row_upd_clust_rec(btr0cur.cc:3551)]:[0m
                name             : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| trx_undo_report_row_operation  : 4240       131        btr0cur.cc:3120  0          1.44      |********************|
| btr_cur_update_in_place_log    : 534        131        btr0cur.cc:3415  0          0.18      |**                  |
| row_upd_rec_in_place           : 91         131        btr0cur.cc:3413  0          0.03      |                    |
| *self                          : 61         131        -                0          0.02      |                    |

[33m============================================================================================================================[0m
[32mHistogram - Latency of [btr_cur_update_in_place]
           called from [row_ins_clust_index_entry_low(btr0cur.cc:3551)]:[0m
          ns             : cnt        distribution        sched      distribution        
      2048 -> 4095       : 46       |********************| 0        |                    |
      4096 -> 8191       : 20       |********            | 0        |                    |
      8192 -> 16383      : 1        |                    | 0        |                    |
trace count: 67, average latency: 4066 ns
sched count:  0,   sched latency:    0 ns, cpu percent: 0 %

[33m----------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [btr_cur_update_in_place]
                             called from [row_ins_clust_index_entry_low(btr0cur.cc:3551)]:[0m
                   name                : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| trx_undo_report_row_operation        : 2356       67         btr0cur.cc:3120  0          0.41      |********************|
| lock_clust_rec_modify_check_and_lock : 744        67         btr0cur.cc:3111  0          0.13      |******              |
| btr_cur_update_in_place_log          : 664        67         btr0cur.cc:3415  0          0.12      |*****               |
| row_upd_rec_in_place                 : 187        67         btr0cur.cc:3413  0          0.03      |*                   |
| *self                                : 102        67         -                0          0.02      |                    |
| lob::BtrContext::unmark_extern_field
    s                                  : 10         67         btr0cur.cc:3423  0          0.00      |                    |

[33m============================================================================================================================[0m
%%%%%%%%%%%%% test text case [log_writer]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f log_writer -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 1060669 actions, trace errors: 0 ]
[ real trace time: 0.04 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
[32mHistogram - Child functions's Latency of [log_writer]
                             called from [unknown(-)]:[0m
                   name                : avg        cnt        call_line          sched_time cpu_pct(%) distribution (total) 
| os_event_set                         : 3296       1          ut0mutex.ic:224    0          0.01      |                    |
| log_writer_write_buffer              : 2748       1047       log0write.cc:2298  187        7.07      |**                  |
| std::chrono::_V2::system_clock::now@
    plt                                : 814        1          log0write.cc:1249  0          0.00      |                    |
| sync_array_object_signalled          : 186        1          ut0mutex.ic:226    0          0.00      |                    |
| mutex_enter_inline<PolicyMutex<TTASE
    ventMutex<GenericPolicy> > >       : 58         1          log0write.cc:2307  0          0.00      |                    |
| log_advance_ready_for_write_lsn      : 40         524422     log0write.cc:2255  0          55.76     |********************|

[33m========================================================================================================================[0m
%%%%%%%%%%%%% test text case [os_file_write_page]
/home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/../../func_latency -b /home/xierongbiao.xrb/xrb/git/pt_func_perf/test/mysql-test/mysqld -f os_file_write_page -d 0.01 -s -t -o -w 5 --script_format=text --history=3
[ start 5 parallel workers ]
[ parsed 5430 actions, trace errors: 0 ]
[ real trace time: 0.01 seconds ]
[ miss trace time: 0.00 seconds ]

[33m========================================================================================================================[0m
[32mHistogram - Latency of [os_file_write_page]:[0m
          ns             : cnt        distribution        sched      distribution        
       512 -> 1023       : 59       |***                 | 0        |                    |
      1024 -> 2047       : 307      |********************| 0        |                    |
      2048 -> 4095       : 67       |****                | 9        |********************|
      4096 -> 8191       : 13       |                    | 3        |******              |
      8192 -> 16383      : 1        |                    | 0        |                    |
trace count: 447, average latency: 1769 ns
sched count:  12,   sched latency:  106 ns, cpu percent: 5 %
sched total: 12, sched each time: 3983 ns

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [os_file_write_page]:[0m
      name   : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| os_file_io : 1727       447        os0file.cc:4953  106        5.10      |********************|
| *self      : 42         447        -                0          0.13      |                    |

[33m========================================================================================================================[0m
[32mHistogram - Latency of [os_file_write_page]
           called from [os_file_write_func(os0file.cc:5685)]:[0m
          ns             : cnt        distribution        sched      distribution        
       512 -> 1023       : 59       |***                 | 0        |                    |
      1024 -> 2047       : 307      |********************| 0        |                    |
      2048 -> 4095       : 67       |****                | 9        |********************|
      4096 -> 8191       : 13       |                    | 3        |******              |
      8192 -> 16383      : 1        |                    | 0        |                    |
trace count: 447, average latency: 1769 ns
sched count:  12,   sched latency:  106 ns, cpu percent: 5 %

[33m------------------------------------------------------------------------------------------------------------------------[0m
[32mHistogram - Child functions's Latency of [os_file_write_page]
                             called from [os_file_write_func(os0file.cc:5685)]:[0m
      name   : avg        cnt        call_line        sched_time cpu_pct(%) distribution (total) 
| os_file_io : 1727       447        os0file.cc:4953  106        5.10      |********************|
| *self      : 42         447        -                0          0.13      |                    |

[33m========================================================================================================================[0m
